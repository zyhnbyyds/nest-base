generator client {
  provider = "prisma-client-js"
  output   = "../clients/mongo"
}

datasource mongodb {
  provider = "mongodb"
  url      = env("DATABASE_MONGO_URL")
}

model ImUser {
  id            String    @id @default(auto()) @map("_id") @mongodb.ObjectId
  userId       String   @map("user_id")
  status       Int?     @default(0)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  isDelete     Boolean? @default(false)
  @@map("im_user")
}

model ImGroup {
  id            String    @id @default(auto()) @map("_id") @mongodb.ObjectId
  groupId      String   @map("group_id")
  status       Int?     @default(0)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  isDelete     Boolean? @default(false)
  @@map("im_group")
}

model ImGroupMember {
  id            String    @id @default(auto()) @map("_id") @mongodb.ObjectId
  groupId      String   @map("group_id")
  userId       String   @map("user_id")
  status       Int?     @default(0)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  @@map("im_group_member")
}

model ImMessage {
  id           String   @id @default(auto()) @map("_id") @mongodb.ObjectId
  messageId    String   @map("message_id")
  fromUserId   String   @map("from_user_id")
  toUserId     String   @map("to_user_id")
  content      String   @map("content") @mongodb.String
  type         Int?     @default(0)
  status       Int?     @default(0)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  isDelete     Boolean? @default(false)
  @@map("im_message")
}

